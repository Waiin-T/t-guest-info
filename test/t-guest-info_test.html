<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

    <title>t-guest-info test</title>

    <script src="../../webcomponentsjs/webcomponents-lite.js"></script>
    <script src="../../web-component-tester/browser.js"></script>

    <link rel="import" href="../t-guest-info.html">
</head>

<body>

    <test-fixture id="BasicTestFixture">
        <template>
      <t-guest-info></t-guest-info>
    </template>
    </test-fixture>

    <test-fixture id="ChangedPropertyTestFixture">
        <template>
      <t-guest-info id="guestInfo" paxlist='[{
                        "type": "Adult",
                        "title": "Mr",
                        "firstName": "John",
                        "lastName": "Doe",
                        "email": "john@example.com",
                        "contact": "343453453",
                        "countrycode": "+91",
                        "membership": {
                          "programName": "a",
                          "programCode": "",
                          "number": "1"
                        }
                      },{
                        "type": "Child",
                        "title": "Ms",
                        "firstName": "Anna",
                        "lastName": "Smith",
                        "email": "Anna@example.com",
                        "contact": "343453453",
                        "countrycode": "+91",
                        "membership": {
                          "programName": "b",
                          "programCode": "",
                          "number": "2"
                        }
                      }]' option='{
                  "allowTitle": true,
                  "allowTitleForLeadPax" : true,
                  "allowContactNumber" : false,
                  "allowContactNumberForLeadPax" : true,
                  "allowEmail" : false,
                  "allowEmailForLeadPax" : true,
                  "requiredField" : [
                      "firstname",
                      "lastname"
                      ],
                  "requiredFieldForLeadPax" : [
                      "contactNumber",
                      "title",
                      "email"
                      ]
                }' resources='{
                  "icons": {
                    "terms": "terms-ico"
                    },
                  "labels": {
                    "adult": {
                      "title": "Adult",
                      "info": "(12+ years)"
                      },
                    "child": {
                      "title": "Child",
                      "info": "(upto 11 years)"
                      }
                    },
                  "fields": {
                    "title": {
                      "values": [{
                          "key": "Mr"
                          },
                          {
                          "key": "Ms"
                          }
                          ],
                      "selected": "Mr",
                      "title": "Title",
                      "errors": "Please select a title"
                      },
                    "firstName": {
                      "value": "",
                      "title": "First name",
                      "errors": "Firstname is required"
                      },
                    "lastName": {
                      "value": "",
                      "title": "Last name",
                      "errors": "Lastname is required"
                      },
                    "email": {
                      "value": "",
                      "info": "We will send you email confirmation on this address",
                      "errors": "Please enter a valid email address"
                      },
                    "countryCode": {
                      "values": [{
                          "key": "India +91",
                          "value": "+91"
                          },
                          {
                          "key": "USA +1",
                          "value": "+1"
                          }
                      ],
                      "title": "Country code",
                      "errors": "Countrycode is required"
                      },
                    "contactNumber": {
                      "value": "",
                      "title": "Contact number",
                      "info": "In case of any notifications our agent will reach you on this number",
                      "errors": "Contact number is required"
                      }                     
                   },
                      "newGuest" : "Add New",
                      "chooseGuest" : "Choose guest" 
                  }' product=' [{
        "id": "123123",
        "name": "El Cortez Hotel &; Casino",
        "type" : "hotel",
        "allowLoyalty": true,
        
        "rooms": [
            {
                "id": "ypHtxnfawEWvbhtBo2ZKOw",
                "name": "Strip View, 1 King Bed",
                "onlyLeadPaxInfo": false,
                "criteria": {
                    "checkIn": "05/22/2017",
                    "checkout": "05/28/2017",
                    "stayDuration": 2,
                    "traveler": {
                        "adult": 3,
                        "child": 1
                    }
                }
                ,
                 "policies": [
                     "FREE cancellation before 11:59PM on April 25, 2017"
                 ]
            },
                {
                "id": "ypHtxnfawEWvbhtBo2ZKOw",
                "name": "Strip View, 1 King Bed",
                "onlyLeadPaxInfo": false,
                "criteria": {
                    "checkIn": "05/22/2017",
                    "checkout": "05/28/2017",
                    "stayDuration": 2,
                    "traveler": {
                        "adult": 1,
                        "child": 1
                    }
                }
                ,
                 "policies": [
                     "FREE cancellation before 11:59PM on April 25, 2017"
                 ]
            },{
                "id": "ypHtxnfawEWvbhtBo2ZKOw",
                "name": "Strip View, 1 King Bed",
                "onlyLeadPaxInfo": false,
                "criteria": {
                    "checkIn": "05/22/2017",
                    "checkout": "05/28/2017",
                    "stayDuration": 2,
                    "traveler": {
                        "adult": 2,
                        "child": 1
                    }
                }
                ,
                 "policies": [
                     "FREE cancellation before 11:59PM on April 25, 2017"
                 ]
            }
        ]
    },{
        "id": "123123",
        "name": "El Cortez Hotel &; Casino",
        "type" : "hotel",
        "allowLoyalty": true,
        
        "rooms": [
            {
                "id": "ypHtxnfawEWvbhtBo2ZKOw",
                "name": "Strip View, 1 King Bed",
                "onlyLeadPaxInfo": false,
                "criteria": {
                    "checkIn": "05/22/2017",
                    "checkout": "05/28/2017",
                    "stayDuration": 2,
                    "traveler": {
                        "adult": 1,
                        "child": 1
                    }
                }
                ,
                 "policies": [
                     "FREE cancellation before 11:59PM on April 25, 2017"
                 ]
            }
        ]
    }]'></t-guest-info>
    </template>
    </test-fixture>

    <script>
        suite('t-guest-info', function() {

            /** 
             *
             *T-GUEST-INFO
             *
             **/

            test('Increased Index', function() {
                var element = fixture('BasicTestFixture');
                var elementShadowRoot = element.shadowRoot;
                var elementHeader = element._increaseIndex(1);
                assert.equal(elementHeader, 2);
            });

            test('isValidGuest', function() {
                var element = fixture('BasicTestFixture');
                var elementShadowRoot = element.shadowRoot;
                var elementHeader = element.isValidGuest();
                assert.equal(elementHeader, undefined);
            });

            test('_adultLabel -if', function() {
                var element = fixture('ChangedPropertyTestFixture');
                var elementShadowRoot = element.shadowRoot;
                var elementHeader = element._adultLabel(1);
                assert.equal(elementHeader, 'Adult');
            })
            test('_adultLabel -else', function() {
                var element = fixture('ChangedPropertyTestFixture');
                var elementShadowRoot = element.shadowRoot;
                var elementHeader = element._adultLabel(2);
                assert.equal(elementHeader, 'Adults');
            })
            test('_childLabel -if', function() {
                var element = fixture('ChangedPropertyTestFixture');
                var elementShadowRoot = element.shadowRoot;
                var elementHeader = element._childLabel(1);
                assert.equal(elementHeader, 'Child');
            })
            test('_childLabel -else', function() {
                var element = fixture('ChangedPropertyTestFixture');
                var elementShadowRoot = element.shadowRoot;
                var elementHeader = element._childLabel(2);
                assert.equal(elementHeader, 'Children');
            })

            /** 
             *
             *T-TRAVELER-INFO
             *
             **/


            test('_increasedIndex', function() {
                var element = fixture('ChangedPropertyTestFixture');
                element.shadowRoot.querySelector("#productTemplate").render();
                element.shadowRoot.querySelector("#travelerTemplate").render();
                var traveler = element.shadowRoot.querySelector("#travelerInfo11");
                var result = traveler._increaseIndex(1);
                assert.equal(result, 2);
            });

            test('isValid', function() {
                var element = fixture('ChangedPropertyTestFixture');
                element.shadowRoot.querySelector("#productTemplate").render();
                element.shadowRoot.querySelector("#travelerTemplate").render();
                var traveler = element.shadowRoot.querySelector("#travelerInfo11");
                var result = traveler.isValid();
                assert.equal(result, false);
            });

            // test('getState', function() {
            //   var element = fixture('ChangedPropertyTestFixture');
            //   element.shadowRoot.querySelector("#productTemplate").render();
            //   element.shadowRoot.querySelector("#travelerTemplate").render();
            //   var traveler = element.shadowRoot.querySelector("#travelerInfo11");
            //   var result = traveler.getState();
            //   assert.equal(result, element.paxList);
            // });

            test('_lte- if', function() {
                var element = fixture('ChangedPropertyTestFixture');
                element.shadowRoot.querySelector("#productTemplate").render();
                element.shadowRoot.querySelector("#travelerTemplate").render();
                var traveler = element.shadowRoot.querySelector("#travelerInfo11");
                traveler.roomNumber = 1;
                traveler.paxList.length = 0;
                var result = traveler._lte(1, 1);
                assert.equal(result, true);
            });

            test('_lte- else', function() {
                var element = fixture('ChangedPropertyTestFixture');
                element.shadowRoot.querySelector("#productTemplate").render();
                element.shadowRoot.querySelector("#travelerTemplate").render();
                var traveler = element.shadowRoot.querySelector("#travelerInfo11");
                traveler.roomNumber = 2;
                traveler.paxList.length = 0;
                var result = traveler._lte(2, 1);
                assert.equal(result, false);
            });

            test('_hideDashForMobileView - if', function() {
                var element = fixture('ChangedPropertyTestFixture');
                element.shadowRoot.querySelector("#productTemplate").render();
                element.shadowRoot.querySelector("#travelerTemplate").render();
                var traveler = element.shadowRoot.querySelector("#travelerInfo11");
                traveler.smallMobileView = true;
                traveler._hideDashForMobileView();
                assert.equal(traveler.hideDashForMobileView, true);
            });

            // test('_hideDashForMobileView - else', function () {
            //   var element = fixture('ChangedPropertyTestFixture');
            //   element.shadowRoot.querySelector("#productTemplate").render();
            //   element.shadowRoot.querySelector("#travelerTemplate").render();
            //   var traveler = element.shadowRoot.querySelector("#travelerInfo11");
            //   traveler.smallMobileView = false;
            //   traveler.tabletView = false;
            //   traveler._hideDashForMobileView();
            //   assert.equal(traveler.hideDashForMobileView, false);
            // });

            test('_closeIconIfAdultIsOnlyOne', function() {
                var element = fixture('ChangedPropertyTestFixture');
                element.shadowRoot.querySelector("#productTemplate").render();
                element.shadowRoot.querySelector("#travelerTemplate").render();
                var traveler = element.shadowRoot.querySelector("#travelerInfo11");
                traveler.adultPaxCount = 1;
                traveler._closeIconIfAdultIsOnlyOne();
                assert.equal(traveler.showCloseButton, true);
            });

            test('_closePaxAdultInfo', function() {
                var element = fixture('ChangedPropertyTestFixture');
                element.shadowRoot.querySelector("#productTemplate").render();
                element.shadowRoot.querySelector("#travelerTemplate").render();
                var traveler = element.shadowRoot.querySelector("#travelerInfo11");
                traveler.adultPaxCount = 1;
                var e = {
                    "model": {
                        "index": 0
                    }
                }
                var adultPax = traveler.shadowRoot.querySelector("#adultPaxInfo11");
                traveler._closePaxAdultInfo(e);
                assert.equal(adultPax.showChooseGuest, false);
            });

            test('_closePaxChildInfo', function() {
                var element = fixture('ChangedPropertyTestFixture');
                element.shadowRoot.querySelector("#productTemplate").render();
                element.shadowRoot.querySelector("#travelerTemplate").render();
                var traveler = element.shadowRoot.querySelector("#travelerInfo11");
                traveler.adultPaxCount = 1;
                var e = {
                    "model": {
                        "index": 0
                    }
                }
                var childPax = traveler.shadowRoot.querySelector("#childPaxInfo11");
                traveler._closePaxChildInfo(e);
                assert.equal(childPax.showChooseGuest, false);
            });

            test('_getAdultPaxList', function() {
                var element = fixture('ChangedPropertyTestFixture');
                element.shadowRoot.querySelector("#productTemplate").render();
                element.shadowRoot.querySelector("#travelerTemplate").render();
                var traveler = element.shadowRoot.querySelector("#travelerInfo11");
                traveler._getAdultPaxList();
                var adultPax = [{
                    "type": "Adult",
                    "title": "Mr",
                    "firstName": "John",
                    "lastName": "Doe",
                    "email": "john@example.com",
                    "contact": "343453453",
                    "countrycode": "+91",
                    "membership": {
                        "programName": "a",
                        "programCode": "",
                        "number": "1"
                    }
                }]
                assert.equal(JSON.stringify(traveler.paxListAdult), JSON.stringify(adultPax));
            });
            test('_getChildPaxList', function() {
                var element = fixture('ChangedPropertyTestFixture');
                element.shadowRoot.querySelector("#productTemplate").render();
                element.shadowRoot.querySelector("#travelerTemplate").render();
                var traveler = element.shadowRoot.querySelector("#travelerInfo11");
                traveler._getChildPaxList();
                var adultPax = [{
                    "type": "Child",
                    "title": "Ms",
                    "firstName": "Anna",
                    "lastName": "Smith",
                    "email": "Anna@example.com",
                    "contact": "343453453",
                    "countrycode": "+91",
                    "membership": {
                        "programName": "b",
                        "programCode": "",
                        "number": "2"
                    }
                }]
                assert.equal(JSON.stringify(traveler.paxListChild), JSON.stringify(adultPax));
            });

            /**
             *
             *PAX-INFO
             *
             **/
            test('_typeAndLabel -if', function() {
                var element = fixture('ChangedPropertyTestFixture');
                element.shadowRoot.querySelector("#productTemplate").render();
                element.shadowRoot.querySelector("#travelerTemplate").render();
                var traveler = element.shadowRoot.querySelector("#travelerInfo11");
                traveler.shadowRoot.querySelector("#adultPaxTemplate").render();
                var adultPaxInfo = traveler.shadowRoot.querySelector("#adultPaxInfo11");
                adultPaxInfo.adultPaxCount = 1;
                result = adultPaxInfo._typeAndLabel(1);
                assert.equal(result, "");
            })
            test('_typeAndLabel -else', function() {
                var element = fixture('ChangedPropertyTestFixture');
                element.shadowRoot.querySelector("#productTemplate").render();
                element.shadowRoot.querySelector("#travelerTemplate").render();
                var traveler = element.shadowRoot.querySelector("#travelerInfo11");
                traveler.shadowRoot.querySelector("#adultPaxTemplate").render();
                var adultPaxInfo = traveler.shadowRoot.querySelector("#adultPaxInfo11");
                adultPaxInfo.adultPaxCount = 2;
                result = adultPaxInfo._typeAndLabel(1);
                assert.equal(result, 1);
            })

            test('isValidPaxInfo', function() {
                var element = fixture('ChangedPropertyTestFixture');
                element.shadowRoot.querySelector("#productTemplate").render();
                element.shadowRoot.querySelector("#travelerTemplate").render();
                var traveler = element.shadowRoot.querySelector("#travelerInfo11");
                traveler.shadowRoot.querySelector("#adultPaxTemplate").render();
                var adultPaxInfo = traveler.shadowRoot.querySelector("#adultPaxInfo11");
                result = adultPaxInfo.isValidPaxInfo();
                assert.equal(result, true);
            });

            test('_showPaxInfoFields type=Adult', function() {
                var element = fixture('ChangedPropertyTestFixture');
                element.shadowRoot.querySelector("#productTemplate").render();
                element.shadowRoot.querySelector("#travelerTemplate").render();
                var traveler = element.shadowRoot.querySelector("#travelerInfo11");
                traveler.shadowRoot.querySelector("#adultPaxTemplate").render();
                var adultPaxInfo = traveler.shadowRoot.querySelector("#adultPaxInfo11");
                var e = {
                    "model": {
                        "index": 0
                    }
                }
                adultPaxInfo._showPaxInfoFields(e);
                assert.equal(adultPaxInfo.showChooseGuest, true);
            });
            test('_showPaxInfoFields type=Child', function() {
                var element = fixture('ChangedPropertyTestFixture');
                element.shadowRoot.querySelector("#productTemplate").render();
                element.shadowRoot.querySelector("#travelerTemplate").render();
                var traveler = element.shadowRoot.querySelector("#travelerInfo11");
                traveler.shadowRoot.querySelector("#childPaxTemplate").render();
                var childPaxInfo = traveler.shadowRoot.querySelector("#childPaxInfo11");
                var e = {
                    "model": {
                        "index": 0
                    }
                }
                childPaxInfo._showPaxInfoFields(e);
                assert.equal(childPaxInfo.showChooseGuest, true);
            });

            test('_addNewGuest type=Adult', function() {
                var element = fixture('ChangedPropertyTestFixture');
                element.shadowRoot.querySelector("#productTemplate").render();
                element.shadowRoot.querySelector("#travelerTemplate").render();
                var traveler = element.shadowRoot.querySelector("#travelerInfo11");
                traveler.shadowRoot.querySelector("#adultPaxTemplate").render();
                var adultPaxInfo = traveler.shadowRoot.querySelector("#adultPaxInfo11");
                adultPaxInfo._addNewGuest();
                assert.equal(adultPaxInfo.showChooseGuest, true);
            });
            test('_addNewGuest type=Child', function() {
                var element = fixture('ChangedPropertyTestFixture');
                element.shadowRoot.querySelector("#productTemplate").render();
                element.shadowRoot.querySelector("#travelerTemplate").render();
                var traveler = element.shadowRoot.querySelector("#travelerInfo11");
                traveler.shadowRoot.querySelector("#childPaxTemplate").render();
                var childPaxInfo = traveler.shadowRoot.querySelector("#childPaxInfo11");
                childPaxInfo._addNewGuest();
                assert.equal(childPaxInfo.showChooseGuest, true);
            });
            test('_showAllowFieldsForLeadPax type=Adult', function() {
                var element = fixture('ChangedPropertyTestFixture');
                element.shadowRoot.querySelector("#productTemplate").render();
                element.shadowRoot.querySelector("#travelerTemplate").render();
                var traveler = element.shadowRoot.querySelector("#travelerInfo11");
                traveler.shadowRoot.querySelector("#adultPaxTemplate").render();
                var adultPaxInfo = traveler.shadowRoot.querySelector("#adultPaxInfo11");
                adultPaxInfo._showAllowFieldsForLeadPax();
                assert.equal(adultPaxInfo.showTitle, false);
            });
            test('_showAllowFieldsForLeadPax type=Child', function() {
                var element = fixture('ChangedPropertyTestFixture');
                element.shadowRoot.querySelector("#productTemplate").render();
                element.shadowRoot.querySelector("#travelerTemplate").render();
                var traveler = element.shadowRoot.querySelector("#travelerInfo11");
                traveler.shadowRoot.querySelector("#childPaxTemplate").render();
                var childPaxInfo = traveler.shadowRoot.querySelector("#childPaxInfo11");
                childPaxInfo._showAllowFieldsForLeadPax();
                assert.equal(childPaxInfo.showTitle, false);
            });
            test('_showAllowFields', function() {
                var element = fixture('ChangedPropertyTestFixture');
                element.shadowRoot.querySelector("#productTemplate").render();
                element.shadowRoot.querySelector("#travelerTemplate").render();
                var traveler = element.shadowRoot.querySelector("#travelerInfo11");
                traveler.shadowRoot.querySelector("#childPaxTemplate").render();
                var childPaxInfo = traveler.shadowRoot.querySelector("#childPaxInfo11");
                childPaxInfo._showAllowFieldsForLeadPax();
                assert.equal(childPaxInfo.showTitle, false);
            });
            test('_defaultOptionValue- if ', function() {
                var element = fixture('ChangedPropertyTestFixture');
                element.shadowRoot.querySelector("#productTemplate").render();
                element.shadowRoot.querySelector("#travelerTemplate").render();
                var traveler = element.shadowRoot.querySelector("#travelerInfo11");
                traveler.shadowRoot.querySelector("#adultPaxTemplate").render();
                var adultPaxInfo = traveler.shadowRoot.querySelector("#adultPaxInfo11");
                adultPaxInfo.option = undefined;
                adultPaxInfo._defaultOptionValue();
                assert.equal(adultPaxInfo.allowEmailForLeadPax, true);
            });
            test('_defaultOptionValue- else ', function() {
                var element = fixture('ChangedPropertyTestFixture');
                element.shadowRoot.querySelector("#productTemplate").render();
                element.shadowRoot.querySelector("#travelerTemplate").render();
                var traveler = element.shadowRoot.querySelector("#travelerInfo11");
                traveler.shadowRoot.querySelector("#adultPaxTemplate").render();
                var adultPaxInfo = traveler.shadowRoot.querySelector("#adultPaxInfo11");
                adultPaxInfo._defaultOptionValue();
                assert.equal(adultPaxInfo.allowEmailForLeadPax, true);
            });

            // test('_defaultResourcesValue- if ', function () {
            //   var element = fixture('ChangedPropertyTestFixture');
            //   element.shadowRoot.querySelector("#productTemplate").render();
            //   element.shadowRoot.querySelector("#travelerTemplate").render();
            //   var traveler = element.shadowRoot.querySelector("#travelerInfo11");
            //   traveler.shadowRoot.querySelector("#adultPaxTemplate").render();
            //   var adultPaxInfo = traveler.shadowRoot.querySelector("#adultPaxInfo11");
            //   adultPaxInfo._defaultOptionValue();
            //   assert.equal(adultPaxInfo.allowEmailForLeadPax, true);
            // });

            // test('_defaultResourcesValue- else ', function () {
            //   var element = fixture('ChangedPropertyTestFixture');
            //   element.shadowRoot.querySelector("#productTemplate").render();
            //   element.shadowRoot.querySelector("#travelerTemplate").render();
            //   var traveler = element.shadowRoot.querySelector("#travelerInfo11");
            //   traveler.shadowRoot.querySelector("#adultPaxTemplate").render();
            //   var adultPaxInfo = traveler.shadowRoot.querySelector("#adultPaxInfo11");
            //   adultPaxInfo._defaultOptionValue();
            //   assert.equal(adultPaxInfo.allowEmailForLeadPax, true);
            // });

            test('_showEmailInfo ', function() {
                var element = fixture('ChangedPropertyTestFixture');
                element.shadowRoot.querySelector("#productTemplate").render();
                element.shadowRoot.querySelector("#travelerTemplate").render();
                var traveler = element.shadowRoot.querySelector("#travelerInfo11");
                traveler.shadowRoot.querySelector("#adultPaxTemplate").render();
                var adultPaxInfo = traveler.shadowRoot.querySelector("#adultPaxInfo11");
                var email = adultPaxInfo.shadowRoot.querySelector("#adultEmailLabel");
                adultPaxInfo._showEmailInfo();
                assert.equal(email.hidden, false);
            });

            test('_showInvalidEmail Valid', function() {
                var element = fixture('ChangedPropertyTestFixture');
                element.shadowRoot.querySelector("#productTemplate").render();
                element.shadowRoot.querySelector("#travelerTemplate").render();
                var traveler = element.shadowRoot.querySelector("#travelerInfo11");
                traveler.shadowRoot.querySelector("#adultPaxTemplate").render();
                var adultPaxInfo = traveler.shadowRoot.querySelector("#adultPaxInfo11");
                var email = adultPaxInfo.shadowRoot.querySelector("#adultEmail");
                email.value = "john@example.com"
                adultPaxInfo._showInvalidEmail();
                assert.equal(email.invalid, false);
            });

            test('_showInvalidEmail Invalid', function() {
                var element = fixture('ChangedPropertyTestFixture');
                element.shadowRoot.querySelector("#productTemplate").render();
                element.shadowRoot.querySelector("#travelerTemplate").render();
                var traveler = element.shadowRoot.querySelector("#travelerInfo11");
                traveler.shadowRoot.querySelector("#adultPaxTemplate").render();
                var adultPaxInfo = traveler.shadowRoot.querySelector("#adultPaxInfo11");
                var email = adultPaxInfo.shadowRoot.querySelector("#adultEmail");
                email.value = "john@examplecom"
                adultPaxInfo._showInvalidEmail();
                assert.equal(email.invalid, true);
            });

            test('_showInvalidContact Valid', function() {
                var element = fixture('ChangedPropertyTestFixture');
                element.shadowRoot.querySelector("#productTemplate").render();
                element.shadowRoot.querySelector("#travelerTemplate").render();
                var traveler = element.shadowRoot.querySelector("#travelerInfo11");
                traveler.shadowRoot.querySelector("#adultPaxTemplate").render();
                var adultPaxInfo = traveler.shadowRoot.querySelector("#adultPaxInfo11");
                var contact = adultPaxInfo.shadowRoot.querySelector("#adultContactNo");
                contact.value = "9856327425"
                adultPaxInfo._showInvalidContact();
                assert.equal(contact.invalid, false);
            });
            test('_showInvalidContact Invalid', function() {
                var element = fixture('ChangedPropertyTestFixture');
                element.shadowRoot.querySelector("#productTemplate").render();
                element.shadowRoot.querySelector("#travelerTemplate").render();
                var traveler = element.shadowRoot.querySelector("#travelerInfo11");
                traveler.shadowRoot.querySelector("#adultPaxTemplate").render();
                var adultPaxInfo = traveler.shadowRoot.querySelector("#adultPaxInfo11");
                var contact = adultPaxInfo.shadowRoot.querySelector("#adultContactNo");
                contact.value = "asdsf"
                adultPaxInfo._showInvalidContact();
                assert.equal(contact.invalid, true);
            });
            test('_updateValidation firstname invalid', function() {
                var element = fixture('ChangedPropertyTestFixture');
                element.shadowRoot.querySelector("#productTemplate").render();
                element.shadowRoot.querySelector("#travelerTemplate").render();
                var traveler = element.shadowRoot.querySelector("#travelerInfo11");
                traveler.shadowRoot.querySelector("#adultPaxTemplate").render();
                var adultPaxInfo = traveler.shadowRoot.querySelector("#adultPaxInfo11");
                var e = {
                    "currentTarget": {
                        "id": "adultFirstName"
                    }
                }
                var firstName = adultPaxInfo.shadowRoot.querySelector("#adultFirstName");
                adultPaxInfo._updateValidation(e);
                assert.equal(firstName.invalid, true);
            });
            test('_updateValidation firstname valid', function() {
                var element = fixture('ChangedPropertyTestFixture');
                element.shadowRoot.querySelector("#productTemplate").render();
                element.shadowRoot.querySelector("#travelerTemplate").render();
                var traveler = element.shadowRoot.querySelector("#travelerInfo11");
                traveler.shadowRoot.querySelector("#adultPaxTemplate").render();
                var adultPaxInfo = traveler.shadowRoot.querySelector("#adultPaxInfo11");
                var e = {
                    "currentTarget": {
                        "id": "adultFirstName"
                    }
                }
                var firstName = adultPaxInfo.shadowRoot.querySelector("#adultFirstName");
                firstName.value = "John";
                adultPaxInfo._updateValidation(e);
                assert.equal(firstName.invalid, false);
            });
            test('_updateValidation lastname invalid', function() {
                var element = fixture('ChangedPropertyTestFixture');
                element.shadowRoot.querySelector("#productTemplate").render();
                element.shadowRoot.querySelector("#travelerTemplate").render();
                var traveler = element.shadowRoot.querySelector("#travelerInfo11");
                traveler.shadowRoot.querySelector("#adultPaxTemplate").render();
                var adultPaxInfo = traveler.shadowRoot.querySelector("#adultPaxInfo11");
                var e = {
                    "currentTarget": {
                        "id": "adultLastName"
                    }
                }
                var lastName = adultPaxInfo.shadowRoot.querySelector("#adultLastName");
                adultPaxInfo._updateValidation(e);
                assert.equal(lastName.invalid, true);
            });
            test('_updateValidation lastname valid', function() {
                var element = fixture('ChangedPropertyTestFixture');
                element.shadowRoot.querySelector("#productTemplate").render();
                element.shadowRoot.querySelector("#travelerTemplate").render();
                var traveler = element.shadowRoot.querySelector("#travelerInfo11");
                traveler.shadowRoot.querySelector("#adultPaxTemplate").render();
                var adultPaxInfo = traveler.shadowRoot.querySelector("#adultPaxInfo11");
                var e = {
                    "currentTarget": {
                        "id": "adultLastName"
                    }
                }
                var lastName = adultPaxInfo.shadowRoot.querySelector("#adultLastName");
                lastName.value = "Doe"
                adultPaxInfo._updateValidation(e);
                assert.equal(lastName.invalid, false);
            });
            test('_updateValidation email invalid', function() {
                var element = fixture('ChangedPropertyTestFixture');
                element.shadowRoot.querySelector("#productTemplate").render();
                element.shadowRoot.querySelector("#travelerTemplate").render();
                var traveler = element.shadowRoot.querySelector("#travelerInfo11");
                traveler.shadowRoot.querySelector("#adultPaxTemplate").render();
                var adultPaxInfo = traveler.shadowRoot.querySelector("#adultPaxInfo11");
                var e = {
                    "currentTarget": {
                        "id": "adultEmail"
                    }
                }
                var email = adultPaxInfo.shadowRoot.querySelector("#adultEmail");
                adultPaxInfo._updateValidation(e);
                assert.equal(email.invalid, true);
            });
            test('_updateValidation email valid', function() {
                var element = fixture('ChangedPropertyTestFixture');
                element.shadowRoot.querySelector("#productTemplate").render();
                element.shadowRoot.querySelector("#travelerTemplate").render();
                var traveler = element.shadowRoot.querySelector("#travelerInfo11");
                traveler.shadowRoot.querySelector("#adultPaxTemplate").render();
                var adultPaxInfo = traveler.shadowRoot.querySelector("#adultPaxInfo11");
                var e = {
                    "currentTarget": {
                        "id": "adultEmail"
                    }
                }
                var email = adultPaxInfo.shadowRoot.querySelector("#adultEmail");
                email.value = "john.doe@example.com"
                adultPaxInfo._updateValidation(e);
                assert.equal(email.invalid, false);
            });
            test('_updateValidation contact number invalid', function() {
                var element = fixture('ChangedPropertyTestFixture');
                element.shadowRoot.querySelector("#productTemplate").render();
                element.shadowRoot.querySelector("#travelerTemplate").render();
                var traveler = element.shadowRoot.querySelector("#travelerInfo11");
                traveler.shadowRoot.querySelector("#adultPaxTemplate").render();
                var adultPaxInfo = traveler.shadowRoot.querySelector("#adultPaxInfo11");
                var e = {
                    "currentTarget": {
                        "id": "adultContactNo"
                    }
                }
                var contact = adultPaxInfo.shadowRoot.querySelector("#adultContactNo");
                adultPaxInfo._updateValidation(e);
                assert.equal(contact.invalid, true);
            });
            test('_updateValidation contact number valid', function() {
                var element = fixture('ChangedPropertyTestFixture');
                element.shadowRoot.querySelector("#productTemplate").render();
                element.shadowRoot.querySelector("#travelerTemplate").render();
                var traveler = element.shadowRoot.querySelector("#travelerInfo11");
                traveler.shadowRoot.querySelector("#adultPaxTemplate").render();
                var adultPaxInfo = traveler.shadowRoot.querySelector("#adultPaxInfo11");
                var e = {
                    "currentTarget": {
                        "id": "adultContactNo"
                    }
                }
                var contact = adultPaxInfo.shadowRoot.querySelector("#adultContactNo");
                contact.value = "9876554"
                adultPaxInfo._updateValidation(e);
                assert.equal(contact.invalid, false);
            });


            /**
             *
             *T-LOYALTY-PROGRAM
             *
             **/

            test('_lte ', function() {
                var element = fixture('ChangedPropertyTestFixture');
                element.shadowRoot.querySelector("#productTemplate").render();
                var loyalty = element.shadowRoot.querySelector("#tLoyaltyDatabase1");
                loyalty.shadowRoot.querySelector("#loyaltyTemp").render();
                res = loyalty._lte(1, 1);
                assert.equal(res, true);
            });
            // test('_showGuestProgramDetails ', function () {
            //   var element = fixture('ChangedPropertyTestFixture');
            //   element.shadowRoot.querySelector("#productTemplate").render();
            //   var loyalty = element.shadowRoot.querySelector("#tLoyaltyDatabase1");
            //   loyalty.shadowRoot.querySelector("#loyaltyTemp").render();
            //   // loyalty.paxListAvailable = false;
            //   var e = {
            //     "currentTarget" : {
            //       "id" : 1
            //     },
            //     "model": {
            //       "index" : 1
            //     }
            //   }
            //  loyalty._showGuestProgramDetails(e);
            //   assert.equal(loyalty.guestName, false);
            // });
            // test('_showValidation', function() {
            //     var element = fixture('ChangedPropertyTestFixture');
            //     element.shadowRoot.querySelector("#productTemplate").render();
            //     var loyalty = element.shadowRoot.querySelector("#tLoyaltyDatabase1");
            //     loyalty.shadowRoot.querySelector("#loyaltyTemp").render();
            //     var e = {
            //         "currentTarget": {
            //             "id": "programNumber1"
            //         },
            //         "model": {
            //             "index": 1
            //         }
            //     }
            //     loyalty._showValidation(e);
            //     assert.equal(loyalty.guestname, false);
            // })
        });
    </script>

</body>

</html>