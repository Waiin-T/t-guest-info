<html><head><link rel="import" href="pax-info.html"></head><body><dom-module id="t-traveler-info"><template><style>@media only screen 
                        and (min-device-width: 320px) 
                        and (max-device-width: 568px)
                        and (-webkit-min-device-pixel-ratio: 2){#title{font-size:14px;width:100%;margin-top:-7px;position:absolute;margin-left:-5px;}}@media (max-width:320px){:host{display:block;background-color:white;margin-left:10px;margin-right:10px;}#toolbarRoom{background-color:var(--toolbar-background-color);width:100%;height:50px;margin-left:-14px;padding-right:5px;}#productPassengers{width:100%;margin-left:3px;}#title{font-size:14px;width:100%;margin-top:3px;position:absolute;margin-left:-5px;}#subTitle{font-size:13px;color:var(--color-for-subTitle);width:100%;margin-top:15px;margin-left:-6px;}#policyList{font-size:13px;margin-left:-18px;color:var(--color-for-policies);margin-top:10px;font-family:roboto;}.closeIconAdult{margin-top:13%;margin-left:-25px;color:#A8A8A8;}.closeIconChild{margin-top:4%;margin-left:-22px;color:#A8A8A8;}.closeIconChooseGuest{float:left;position:absolute;margin-top:-39px;margin-left:205px;color:#A8A8A8;visibility:hidden;}}@media (min-width: 321px) and (max-width: 380px){:host{display:block;background-color:white;margin-left:10px;margin-right:10px;}#toolbarRoom{background-color:var(--toolbar-background-color);width:100%;height:50px;margin-left:-14px;padding-right:5px;}#productPassengers{width:100%;margin-left:3px;}#title{font-size:14px;width:100%;margin-top:-11px;position:absolute;margin-left:-5px;}#subTitle{font-size:13px;color:var(--color-for-subTitle);width:100%;margin-top:15px;margin-left:-6px;}#policyList{font-size:13px;margin-left:-18px;color:var(--color-for-policies);margin-top:10px;font-family:roboto;}.closeIconAdult{margin-top:13%;margin-left:-25px;color:#A8A8A8;}.closeIconChild{margin-top:4%;margin-left:-22px;color:#A8A8A8;}.closeIconChooseGuest{float:left;position:absolute;margin-top:-39px;margin-left:205px;color:#A8A8A8;visibility:hidden;}}@media (min-width: 380px) and (max-width:767px){#toolbarRoom{background-color:var(--toolbar-background-color);width:95%;height:50px;margin-left:-14px;padding-right:5px;}#productPassengers{width:100%;margin-left:10px;}#title{font-size:14px;width:100%;margin-top:-12px;position:absolute;margin-left:-5px;}#subTitle{font-size:13px;color:var(--color-for-subTitle);width:100%;margin-top:15px;margin-left:-6px;}#policyList{font-size:13px;margin-left:-18px;color:var(--color-for-policies);margin-top:10px;font-family:roboto;}.closeIconAdult{margin-top:3%;margin-left:-26px;color:#A8A8A8;}.closeIconChild{margin-top:4%;margin-left:-14px;color:#A8A8A8;}.closeIconChooseGuest{float:left;position:absolute;margin-top:-39px;margin-left:205px;color:#A8A8A8;visibility:hidden;}}@media (min-width: 768px) and (max-width:1023px){#toolbarRoom{background-color:var(--toolbar-background-color);width:100%;height:50px;margin-left:-6px;}#productPassengers{width:100%;}#title{font-size:14px;padding:5px;}#subTitle{font-size:13px;color:var(--color-for-subTitle);}#policyList{font-size:14px;margin-left:-13px;width:100%;color:var(--color-for-policies);margin-top:10px;font-family:roboto;}.closeIconAdult{margin-top:4%;margin-left:-15px;color:#A8A8A8;}.closeIconChild{margin-top:4%;margin-left:-15px;color:#A8A8A8;}.closeIconChooseGuest{float:left;position:absolute;margin-top:-39px;margin-left:205px;color:#A8A8A8;visibility:hidden;}}@media (min-width: 1024px){#toolbarRoom{background-color:var(--toolbar-background-color);width:100%;margin-left:10px;margin-top:20px;height:50px;clear:both;}#productPassengers{width:100%;}#subTitle{color:var(--color-for-subTitle);font-size:14px;padding:5px;}#title{font-size:16px;padding:5px;}#policyList{color:var(--color-for-policies);margin-top:10px;font-family:roboto;}.closeIconAdult,
                        .closeIconChild{margin-top:3%;margin-left:6px;color:#A8A8A8;}.closeIconChooseGuest{float:left;position:absolute;margin-top:-39px;margin-left:420px;color:#A8A8A8;visibility:hidden;}}#paxInfoTemp{padding-bottom:15px;float:left;width:108%;}#checkIcon{margin-left:10px;}</style><iron-media-query query="(max-width: 380px)" query-matches="{{smallMobileView}}"></iron-media-query><iron-media-query query="(min-width: 380px) and (max-width:767px)" query-matches="{{mobileView}}"></iron-media-query><iron-media-query query="(min-width: 768px) and (max-width:1023px)" query-matches="{{tabletView}}"></iron-media-query><iron-media-query query="(min-width: 1024px) and (max-width: 1200px)" query-matches="{{desktopView}}"></iron-media-query><iron-media-query query="(min-width: 1200px)" query-matches="{{largeDesktopView}}"></iron-media-query><div id="productPassengers"><app-toolbar id="toolbarRoom"><div id="title">{{productTitle}}</div><div id="titleDash" hidden$="{{_hideDashForMobileView}}">-</div><div id="subTitle">{{subTitle}}</div></app-toolbar><div id="policyList"><template is="dom-repeat" items="{{policyList}}"><br><div><div style="float:left"><img id="checkIcon" src="checkImage.svg" height="10" width="10"></div><div style="margin-left:20px; margin-top:-11px">&nbsp; {{item}}</div></div></template></div><template is="dom-repeat" items="{{_adPaxCountArray}}" id="adultPaxTemplate"><div id="paxInfoTemp"><pax-info id="adultPaxInfo{{rNumber}}{{_increaseIndex(index)}}" pax-list="{{_paxListAd}}" option="[[option]]" resources="{{resources}}" index-array="{{_indexArray}}" index="{{_increaseIndex(index)}}" traveler-info="{{travelerInfo}}" adult-pax-count="{{adPaxCount}}" pax-list-available="{{paxListAvailable}}" type="{{_adultPax}}" pax-data="{{item}}" r-number="{{rNumber}}" product-no="{{productNo}}" r-ad-pax-count-array="{{_adPaxCountArray}}" r-ch-pax-count-array="{{_chPaxCountArray}}" total-pax-list-array="{{totalPaxList}}" on-categorize="_handleDuplicateRecord" on-update="_updateList"></pax-info><div hidden$="[[_isCloseButtonHidden]]"><paper-icon-button icon="close" id="closeIconAdult{{_increaseIndex(index)}}" class="closeIconChooseGuest" on-tap="_closePaxAdultInfo"></paper-icon-button></div></div></template><template is="dom-repeat" items="{{_chPaxCountArray}}" id="childPaxTemplate"><div id="paxInfoTemp"><pax-info id="childPaxInfo{{rNumber}}{{_increaseIndex(index)}}" pax-list="{{_paxListCh}}" option="[[option]]" resources="{{resources}}" index-array="{{_indexArrayCh}}" type="{{_childPax}}" traveler-info="{{travelerInfo}}" child-pax-count="{{chPaxCount}}" index="{{_increaseIndex(index)}}" r-number="{{rNumber}}" pax-data="{{item}}" pax-list-available="{{paxListAvailable}}" product-no="{{productNo}}" r-ch-pax-count-array="{{_chPaxCountArray}}" r-ad-pax-count-array="{{_adPaxCountArray}}" total-pax-list-array="{{totalPaxList}}" on-categorize="_handleDuplicateRecord"></pax-info><div><paper-icon-button icon="close" id="closeIconChild{{_increaseIndex(index)}}" class="closeIconChooseGuest" on-tap="_closePaxChildInfo"></paper-icon-button></div></div></template></div></template><script>var TTravelerInfo=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'ready',value:function(){babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'ready',this).call(this);var a=this.onlyLeadPaxInfo;!0===a&&(this.adPaxCount=1,this.chPaxCount=0);var c=this.adPaxCount,d=this.chPaxCount;this._adPaxCountArray=[];for(var e,f=0;f<c;f++)e={type:'Adult',title:0,firstName:'',lastName:'',email:'',countryCode:0,contactNumber:''},this.push('_adPaxCountArray',e);this._chPaxCountArray=[];for(var e,f=0;f<d;f++)e={type:'Child',title:0,firstName:'',lastName:'',email:'',countryCode:0,contactNumber:''},this.push('_chPaxCountArray',e);this._hideDashForMobileViewMethod(),this._getAdultPaxList(),this._getChildPaxList(),this.travelerInfo=this,this._indexArray=[],this._indexArrayCh=[]}},{key:'getState',value:function(){var a=this._adPaxCountArray.concat(this._chPaxCountArray);return this.totalPaxList[this.productNo].paxListObj[this.rNumber-1].paxListObj=a,a}},{key:'setState',value:function(){for(var a=this.adPaxCount+this.chPaxCount,b=[],c=0;c<a;c++)b[c]=this.paxList[c];return b}},{key:'isValid',value:function(){for(var a,b=!0,c=this.adPaxCount+this.chPaxCount,d=0;d<c;d++)if(a=this.shadowRoot.querySelectorAll('pax-info')[d].isValidPaxInfo(),!1===a)return b=!1,b;return b}},{key:'_updateList',value:function(){}},{key:'_handleDuplicateRecord',value:function(b){for(var c=[],d=this.dispatchEvent(new CustomEvent('listcategorize',{detail:{listcategorized:c}})),a=0;a<c.length;a++)b.detail.categorized.push(c[a])}},{key:'_lessThanEqualToOne',value:function(a,b){return 1===this.rNumber&&0===this.paxList.length||a<=b}},{key:'_hideDashForMobileViewMethod',value:function(){this._hideDashForMobileView=!0===this.smallMobileView||!0===this.mobileView}},{key:'_checkReferenceforAdult',value:function(a){for(var b=this.adPaxCount+this.chPaxCount,c=0;c<b;c++)if('Adult'===this.shadowRoot.querySelectorAll('pax-info')[c].type&&this.shadowRoot.querySelectorAll('pax-info')[c].index===a.model.index+1)return this.shadowRoot.querySelectorAll('pax-info')[c]}},{key:'_checkReferenceforChild',value:function(a){for(var b=this.adPaxCount+this.chPaxCount,c=0;c<b;c++)if('Child'===this.shadowRoot.querySelectorAll('pax-info')[c].type&&this.shadowRoot.querySelectorAll('pax-info')[c].index===a.model.index+1)return this.shadowRoot.querySelectorAll('pax-info')[c]}},{key:'_toggleCloseButtonClass',value:function(a,b){'Adult'===b&&(this.shadowRoot.querySelector('#closeIconAdult'+a).classList.remove('closeIconChooseGuest'),this.shadowRoot.querySelector('#closeIconAdult'+a).classList.add('closeIconAdult')),'Child'===b&&(this.shadowRoot.querySelector('#closeIconChild'+a).classList.remove('closeIconChooseGuest'),this.shadowRoot.querySelector('#closeIconChild'+a).classList.add('closeIconChild'))}},{key:'_closePaxAdultInfo',value:function(a){var b=this._checkReferenceforAdult(a),c=b.paxData.firstName;if(!1===this.paxListAvailable)var d=b._loadPaxList(a),e=d.findIndex(function(a){return a.firstName==c});else var e=this.paxList.findIndex(function(a){return a.firstName==c});var f=this._indexArray.indexOf(e);-1<f&&this._indexArray.splice(f,1),b._showChooseGuest=!1,b._showChooseGuestDuplicateError=!0,b._showPaxInfoFields=!0,b._chooseGuestInvalid=!1,a.currentTarget.classList.add('closeIconChooseGuest'),a.currentTarget.classList.remove('closeIconAdult'),b.chooseGuestValue=-1}},{key:'_closePaxChildInfo',value:function(a){var b=this._checkReferenceforChild(a),c=b.paxData.firstName;if(!1===this.paxListAvailable)var d=b._loadPaxList(a),e=d.findIndex(function(a){return a.firstName==c});else var e=this.paxList.findIndex(function(a){return a.firstName==c});var f=this._indexArrayCh.indexOf(e);-1<f&&this._indexArrayCh.splice(f,1),b._showChooseGuest=!1,b._showChooseGuestDuplicateError=!0,b._showPaxInfoFields=!0,b._chooseGuestInvalid=!1,a.currentTarget.classList.add('closeIconChooseGuest'),a.currentTarget.classList.remove('closeIconChild'),b.chooseGuestValue=-1}},{key:'_increaseIndex',value:function(a){return a+1}},{key:'_getAdultPaxList',value:function(){if(this.paxList){var a=this.paxList,b=a.filter(function(a){return'adult'===a.type.toLowerCase()});this._paxListAd=b}}},{key:'_getChildPaxList',value:function(){if(this.paxList){var a=this.paxList,b=a.filter(function(a){return'child'===a.type.toLowerCase()});this._paxListCh=b}}},{key:'_largeDesktopViewIE',value:function(a){var b=!!document.documentMode;return b&&a}},{key:'_largeDesktopViewOther',value:function(a){var b=!!document.documentMode;return!b&&a}}],[{key:'is',get:function(){return't-traveler-info'}},{key:'properties',get:function(){return{totalPaxList:Array,travelerInfo:{type:Object},rNumber:{type:Number},productTitle:{type:String,value:'Room'},subTitle:{type:String},option:{type:Object,value:{requiredField:[],requiredFieldForLeadPax:[]}},adPaxCount:{type:Number,value:''},chPaxCount:{type:Number,value:''},paxlist:{type:Array},paxListAvailable:{type:Boolean},policyList:{type:Array},resources:{type:Object},productNo:Number,smallMobileView:{type:Boolean,value:!1},mobileView:{type:Boolean,value:!1},tabletView:{type:Boolean,value:!1},desktopView:{type:Boolean,value:!1},largeDesktopView:{type:Boolean,value:!1},_paxTempArray:{type:Array,value:[]},_adultPax:{type:String,value:'Adult'},_childPax:{type:String,value:'Child'},_indexArray:{type:Array,value:[]},_indexArrayCh:{type:Array,value:[]},_hideDashForMobileView:{type:Boolean,value:!1},_adPaxCountArray:{type:Array,notify:!0,value:[]},_chPaxCountArray:{type:Array,notify:!0,value:[]},_paxListAd:{type:Array},_paxListCh:{type:Array},_isCloseButtonHidden:{type:Boolean,computed:'_lessThanEqualToOne(_adPaxCountArray.length, 1)'}}}}]),b}(Polymer.GestureEventListeners(Polymer.Element));window.customElements.define(TTravelerInfo.is,TTravelerInfo);</script></dom-module></body></html>