<dom-module id="pax-info-child">
    <template>
        <style>
             :host {
                display: block;
            }

            paper-dropdown-menu {
                --paper-input-container-underline-focus: #4CB050;
                --paper-input-container-focus-color: #4CB050;
                --paper-input-container-label-focus: lightgray;
            }

            paper-input {
                --paper-input-container-underline-focus: #4CB050;
                --paper-input-container-focus-color: #4CB050;
                --paper-input-container-label-focus: lightgray;
            }

            .item[smallMobileView] #typeAndLabel {
                margin-left: -10px;
                width: 100%;
            }

            .item[smallMobileView] #emailAndLabel {
                width: 100%;
                margin-left: -10px;
            }

            .item[smallMobileView] .inputForm #paxTitle,
            #firstName,
            #lastName {
                float: left;
                margin-left: -10px;
            }

            .item[smallMobileView] #paxTitle {
                float: left;
                width: 22%;
                margin-left: -10px;
            }

            .item[smallMobileView] #firstName {
                float: left;
                /*width: 28%;*/
                /*margin-left: -10px;*/
            }

            .item[smallMobileView] #lastName {
                float: left;
                /*width: 28%;*/
                margin-left: 10px;
            }

            .item[smallMobileView] #countryCode,
            #adultContactNo {
                float: left;
                margin-left: -10px;
            }

            .item[smallMobileView] #countryCode {
                margin-left: -10px;
                width: 46%;
            }

            .item[smallMobileView] #contactNo {
                margin-left: 25px;
                width: 46%;
            }

            .item[smallMobileView] #chooseGuest {
                margin-left: -7px;
            }

            .item[mobileView] #typeAndLabel {
                margin-left: -10px;
                width: 100%;
            }

            .item[mobileView] #emailAndLabel {
                width: 100%;
                margin-left: -10px;
            }

            .item[mobileView] .inputForm #paxTitle,
            #firstName,
            #lastName {
                float: left;
                margin-left: -10px;
            }

            .item[mobileView] #paxTitle {
                float: left;
                width: 22%;
                margin-left: -10px;
            }

            .item[mobileView] #countryCode,
            #adultContactNo {
                float: left;
                margin-left: -10px;
            }

            .item[mobileView] #countryCode {
                margin-left: -10px;
                width: 46%;
            }

            .item[mobileView] #contactNo {
                margin-left: 25px;
                width: 46%;
            }

            .item[mobileView] #chooseGuest {
                margin-left: -7px;
            }

            .item[tabletView] #typeAndLabel {
                margin-left: -7px;
                width: 100%;
            }

            .item[tabletView] #emailAndLabel {
                width: 100%;
                margin-left: -10px;
            }

            .item[tabletView] .inputForm #paxTitle,
            #firstName,
            #lastName {
                float: left;
                margin-left: -10px;
            }

            .item[tabletView] #paxTitle {
                float: left;
                margin-left: -10px;
            }

            .item[tabletView] #countryCode,
            #contactNo {
                float: left;
                margin-left: -10px;
            }

            .item[tabletView] #countryCode {
                margin-left: -10px;
                width: 46%;
            }

            .item[tabletView] #contactNo {
                margin-left: 25px;
                width: 46%;
            }

            .item[tabletView] #chooseGuest {
                margin-left: -5px;
            }

            #paxTitle,
            #firstName,
            #lastName {
                float: left;
            }

            #emailAndLabel,
            #countryCode,
            #contactNo {
                float: left;
            }

            #typeAndLabel {
                width: 22%;
                float: left;
                margin-top: 4%;
                margin-left: 10px;
            }

            #typeLabel,
            #typeSubLabel {
                float: left;
            }

            #typeSubLabel {
                margin-left: 5px;
                font-size: smaller;
                color: #BDBDBD;
            }

            #paxTitle {
                width: 21%;
                margin-left: 10px;
            }

            #firstName {
                width: 21%;
                margin-left: 20px;
            }

            #lastName {
                width: 21%;
                margin-left: 20px;
            }

            #inputForm2 {
                margin-top: 20px;
            }

            #email {}

            #emailAndLabel {
                margin-left: 10px;
                width: 44.5%;
            }

            #emailLabel {
                font-size: smaller;
                color: #BDBDBD;
            }

            #countryCode {
                width: 21%;
                margin-left: 20px;
            }

            #contactNo {
                width: 21%;
                margin-left: 20px;
            }

            #chooseGuest {
                margin-left: 12px;
            }
        </style>

        <iron-media-query query="(max-width: 380px)" query-matches="{{smallMobileView}}"></iron-media-query>
        <iron-media-query query="(min-width: 380px) and (max-width:767px)" query-matches="{{mobileView}}"></iron-media-query>
        <iron-media-query query="(min-width: 768px) and (max-width:1023px)" query-matches="{{tabletView}}"></iron-media-query>
        <iron-media-query query="(min-width: 1024px) and (max-width: 1200px)" query-matches="{{desktopView}}"></iron-media-query>
        <iron-media-query query="(min-width: 1200px)" query-matches="{{largeDesktopView}}"></iron-media-query>

        <div class="item" smallMobileView$="{{smallMobileView}}" desktopView$="{{desktopView}}" tabletView$="{{tabletView}}" mobileView$="{{mobileView}}"
            largeDesktopView$="{{_largeDesktopViewOther(largeDesktopView)}}" largeDesktopViewIE$="{{_largeDesktopViewIE(largeDesktopView)}}">

            <form is="iron-form" id="form" method="post" action="/form/handler">
                <!--<div class="inputForm">-->
                <div id="typeAndLabel">
                    <label id="typeLabel">{{_resources.childTitle}}{{index}}</label>
                    <div id="typeSubLabel"> {{_resources.childInfo}}</div>
                </div>
                <div hidden$="{{showChooseGuest}}" id="chooseGuestPaxInfoDiv">
                    <paper-dropdown-menu label="{{_resources.chooseGuest}}" id="chooseGuest">
                        <paper-listbox slot="dropdown-content">
                            <template is="dom-repeat" items="{{paxList}}">
                                <paper-item on-tap="_showPaxInfoFields">{{item.firstName}}&nbsp{{item.lastName}}</paper-item>
                            </template>
                            <paper-item on-tap="_addNewGuest">{{_resources.newGuest}}</paper-item>
                        </paper-listbox>
                    </paper-dropdown-menu>
                </div>
                <div id="paxInfoDiv{{index}}" hidden="{{showPaxInfoFields}}">
                    <div hidden$="{{showTitle}}">
                        <paper-dropdown-menu label="{{_resources.titleLabel}}" id="paxTitle" on-blur="_updatePaxList" required auto-validate error-message="{{_resources.titleError}}">
                            <paper-listbox slot="dropdown-content" selected="{{titleValue}}">
                                <template is="dom-repeat" items={{_resources.titleValues}}>
                                    <paper-item id="titlePaperItem">{{item.key}}</paper-item>
                                </template>
                            </paper-listbox>
                        </paper-dropdown-menu>
                        <input is="iron-input" type="hidden" bind-value="[[titleValue]]">
                    </div>

                    <div>
                        <paper-input label="{{_resources.firstNameTitle}}" id="firstName" on-blur="_updatePaxList" required auto-validate error-message="{{_resources.firstNameError}}"></paper-input>
                    </div>
                    <div>
                        <paper-input label="{{_resources.lastNameTitle}}" id="lastName" on-blur="_updatePaxList" required auto-validate error-message="{{_resources.lastNameError}}"></paper-input>
                    </div>
                    <div id="emailAndLabel">
                        <paper-input label="{{_resources.emailTitle}}" on-blur="_updatePaxList" id="email" hidden$={{showEmailAddress}} required
                            auto-validate error-message="{{_resources.emailError}}"></paper-input>
                        <div id="emailLabel" hidden$="{{showEmailAddress}}">{{_resources.emailInfo}}</div>
                    </div>
                    <div hidden$={{showContactNumber}}>
                        <paper-dropdown-menu label="{{_resources.countryCodeTitle}}" id="countryCode" on-blur="_updatePaxList" required auto-validate error-message="{{_resources.countryCodeError}}">
                            <paper-listbox slot="dropdown-content" selected="{{countryCodeValue}}">
                                <template is="dom-repeat" items={{countryCodeValues}}>
                                    <paper-item>{{item.key}}</paper-item>
                                </template>
                            </paper-listbox>
                        </paper-dropdown-menu>
                        <input is="iron-input" type="hidden" bind-value="[[countryCodeValue]]">
                    </div>
                    <div>
                        <paper-input label="{{_resources.contactNumberTitle}}" on-blur="_updatePaxList" id="contactNo" hidden$={{showContactNumber}}
                            required auto-validate error-message="{{_resources.contactNumberError}}"></paper-input>
                    </div>
                </div>
            </form>
        </div>
    </template>

    <script>
        /**
         * `pax-info-child`
         * 
         *
         * @customElement
         * @polymer
         * @demo demo/index.html
         */
        class PaxInfoChild extends Polymer.Element {
            static get is() {
                return 'pax-info-child';
            }
            static get properties() {
                return {
                    showChooseGuest: {
                        type: Boolean,
                        value: false
                    },
                    showPaxInfoFields: {
                        type: Boolean,
                        value: true
                    },
                    smallMobileView: {
                        type: Boolean,
                        value: false
                    },
                    mobileView: {
                        type: Boolean,
                        value: false
                    },
                    tabletView: {
                        type: Boolean,
                        value: false
                    },
                    desktopView: {
                        type: Boolean,
                        value: false
                    },
                    largeDesktopView: {
                        type: Boolean,
                        value: false
                    },
                    titleValue: {
                        type: String,
                        value: '0'
                    },
                    countryCodeValue: {
                        type: String,
                        value: '-1'
                    },
                    allowOption: {
                        type: Object,
                        value: function () {
                            return {
                                allowTitle: false,
                                allowTitleForLeadPax: false,
                                allowContactNumber: false,
                                allowContactNumberForLeadPax: false,
                                allowEmail: false,
                                allowEmailForLeadPax: false,
                                requiredField: [
                                    "firstname",
                                    "lastname"
                                ],
                                requiredFieldForLeadPax: [
                                    "contactNumber",
                                    "title",
                                    "email"
                                ]
                            }
                        }
                    },
                    _resources: {
                        type: Object,
                        value: function () {
                            return {
                                terms: "terms-ico",
                                adultTitle: 'Adult',
                                adultInfo: '(12+ years)',
                                childTitle: 'Child',
                                childInfo: '(upto 11 years)',
                                titleValues: [{
                                        "key": "Mr"
                                    },
                                    {
                                        "key": "Ms"
                                    }
                                ],
                                titleSelected: 'Mr',
                                titleLabel: 'Title',
                                titleError: 'Please select a title',
                                firstNameValue: '',
                                firstNameTitle: 'First name',
                                firstNameError: 'Firstname is required',
                                lastNameValue: '',
                                lastNameTitle: 'Last name',
                                lastNameError: 'Lastname is required',
                                emailValue: '',
                                emailTitle: 'Email address',
                                emailInfo: 'We will send you email confirmation on this address',
                                emailError: 'Please enter a valid email address',
                                countryCodeValues: [{
                                        "key": "India +91",
                                        "value": "+91"
                                    },
                                    {
                                        "key": "USA +1",
                                        "value": "+1"
                                    }
                                ],
                                countryCodeTitle: 'Country code',
                                countryCodeError: 'Countrycode is required',
                                contactNumberValue: '',
                                contactNumberTitle: 'Contact number',
                                contactNumberInfo: 'In case of any notifications our agent will reach you on this number',
                                contactNumberError: 'Contact number is required',
                                newGuest: "New Guest",
                                chooseGuest: "Choose Guest",
                            }
                        },
                    },

                    paxList: {
                        type: Array,
                        value: []
                    },
                    product: {
                        type: Object,
                        value: {
                            "rooms": []
                        }
                    },

                    showTitle: {
                        type: Boolean,
                        value: true
                    },
                    showContactNumber: {
                        type: Boolean,
                        value: true
                    },
                    showEmailAddress: {
                        type: Boolean,
                        value: true
                    },

                }
            }
             _updatePaxList() {
                var adultData = {};
                if (this.paxListAvailable === true) {
                    var paxInfo = this.travelerInfo.getState();
                    this.travelerInfo.guestInfo.paxlist = paxInfo;
                    // this.dispatchEvent(new CustomEvent('custom-child-event', { detail: { value: childData } }));
                }
                if (this.shadowRoot.querySelector("#contactNo").focused) {
                    this._showInvalidContact();
                }
                if (this.shadowRoot.querySelector("#email").focused) {
                    this._showInvalidEmail();
                }

            }
            _addNewGuest() {
                this.$.firstName.value = undefined;
                this.$.lastName.value = undefined;
                this.$.paxTitle.value = '';
                this.$.email.value = undefined;
                this.$.countryCode.value = '';
                this.$.contactNo.value = undefined;
                this.$.firstName.invalid = false;
                this.$.lastName.invalid = false;
                this.$.paxTitle.invalid = false;
                this.$.email.invalid = false;
                this.$.countryCode.invalid = false;
                this.$.contactNo.invalid = false;
                this.showPaxInfoFields = false;
                this.showChooseGuest = true;
                this.showPaxInfoFields = false;
                this.parentElement.querySelector("#closeIconChild" + (this.index)).classList.remove(
                    "closeIconChooseGuest");
                this.parentElement.querySelector("#closeIconChild" + (this.index)).classList.add(
                    "closeIconAdult");
                // this.isValidPaxInfo();
            }
            _showAllowFields() {
                var check = this.option.allowContactNumber;
                if (check === true) {
                    this.showContactNumber = false;
                }
                var check = this.option.allowEmail;
                if (check === true) {
                    this.showEmailAddress = false;
                }
                var check = this.option.allowTitle;
                if (check === true) {
                    this.showTitle = false;
                }
            }
            _showPaxInfoFields(e) {
                var paxIndex = e.model.index;
                var flag = this.indexArrayChild.indexOf(paxIndex) > -1;
                if (flag == false) {
                    this.indexArrayChild.push(paxIndex);
                    var paxListArray = this.paxList;
                    var divPax = this.$.form.querySelector("#paxInfoDiv" + (this.index));
                    var adultFirstNameData = divPax.querySelector("#firstName");
                    var adultLastNameData = divPax.querySelector("#lastName");
                    var adultTitleData = divPax.querySelector("#paxTitle");
                    var adultEmailData = divPax.querySelector("#email");
                    var adultCountryCodeData = divPax.querySelector("#countryCode");
                    var adultContactNumberData = divPax.querySelector("#contactNo");

                    adultFirstNameData.value = paxListArray[paxIndex].firstName;
                    adultLastNameData.value = paxListArray[paxIndex].lastName;                    
                    var titleIndex = this._resources.titleValues.findIndex(x => x.key==paxListArray[paxIndex].title);
                    adultTitleData.contentElement.selected = titleIndex;
                    adultEmailData.value = paxListArray[paxIndex].email;
                     var countryCodeIndex = this._resources.countryCodeValues.findIndex(x => x.value==paxListArray[paxIndex].countrycode);
                    adultCountryCodeData.contentElement.selected = countryCodeIndex;
                    adultContactNumberData.value = paxListArray[paxIndex].contact;

                    this.parentElement.querySelector("#closeIconChild" + (this.index)).classList.remove(
                        "closeIconChooseGuest");
                    this.parentElement.querySelector("#closeIconChild" + (this.index)).classList.add(
                        "closeIconChild");

                    this.showChooseGuest = true;
                    this.showPaxInfoFields = false;
                } else {
                    this.shadowRoot.querySelector("#chooseGuest").invalid = true;
                    this.shadowRoot.querySelector("#chooseGuest").errorMessage = "Duplicate guest name"
                }

            }
            isValidPaxInfoChild() {
                var childFirstNameValidation = this.$.firstName;
                var childLastNameValiadtion = this.$.lastName;
                var childTitleValidation = this.$.paxTitle;
                var childEmailValidation = this.$.email;
                var childCountryCodeValidation = this.$.countryCode;
                var childContactNumberValidation = this.$.contactNo;
                if (childFirstNameValidation.value === undefined) {
                    childFirstNameValidation.invalid = true;
                }
                if (childLastNameValiadtion.value === undefined) {
                    childLastNameValiadtion.invalid = true;
                }
                if (childEmailValidation.value === undefined) {
                    childEmailValidation.invalid = true;
                }
                if (childContactNumberValidation.value === undefined) {
                    childContactNumberValidation.invalid = true;
                }

                if (childFirstNameValidation.invalid || childLastNameValiadtion.invalid) {
                    return true;
                }
            }
            childData() {
                var childData = {};
                var childFirstNameData = this.$.firstName;
                var childLastNameData = this.$.lastName;
                var childTitleData = this.$.paxTitle;
                var childEmailData = this.$.email;
                var childCountryCodeData = this.$.countryCode;
                var childContactNumberData = this.$.contactNo;
                childData.type = "Child";
                childData.FirstName = childFirstNameData.value;
                childData.LastName = childLastNameData.value;
                if (this.allowTitle === true) {
                    childData.Title = childTitleData.value;
                }
                if (this.allowEmail === true) {
                    childData.Email = childEmailData.value;
                }
                if (this.allowContactNumber === true) {
                    childData.CountryCode = childCountryCodeData.value;
                    childData.ContactNumber = childContactNumberData.value;
                }
                return childData;
            }
            _dynamicStyle() {
                if (this.showTitle === false) {
                    var divLen = 2 + 1;
                } else {
                    var divLen = 2;
                }
                var len = 100 / divLen - 4.6;
                if (this.smallMobileView === true || this.mobileView === true || this.tabletView === true) {
                    this.shadowRoot.querySelector("#firstName").style.width = len + "%";
                    this.shadowRoot.querySelector("#lastName").style.width = len + "%";
                    if (this.showTitle === true) {
                        this.shadowRoot.querySelector("#firstName").style.marginLeft = "-7px";
                    } else {
                        this.shadowRoot.querySelector("#firstName").style.marginLeft = "10px";
                    }
                    if (this.showTitle === false) {
                        this.shadowRoot.querySelector("#paxTitle").style.width = len + "%";
                        this.shadowRoot.querySelector("#paxTitle").style.marginLeft = "-5px";
                    }
                }
            }
            /**
             * Function to set view of internet explorer.       
             * */
            _largeDesktopViewIE(largeDesktopView) {
                // Internet Explorer 6-11
                var isIE = /*@cc_on!@*/ false || !!document.documentMode;
                return isIE && largeDesktopView;
            }
            /**
             * Function for desktop view for browsers other than internet explorer.
             * */
            _largeDesktopViewOther(largeDesktopView) {
                // Internet Explorer 6-11
                var isIE = /*@cc_on!@*/ false || !!document.documentMode;
                return !isIE && largeDesktopView;
            }
            _defaultOptionValue() {
                if (this.option === undefined) {
                    this.allowOption.allowContactNumber;
                    this.allowOption.allowContactNumberForLeadPax;
                    this.allowOption.allowTitle;
                    this.allowOption.allowTitleForLeadPax;
                    this.allowOption.allowEmail;
                    this.allowOption.allowEmailForLeadPax;
                    this.allowOption.requiredField;
                    this.allowOption.requiredFieldForLeadPax;
                } else {
                    if (this.option.allowTitleForLeadPax) {
                        this.allowOption.allowTitleForLeadPax = this.option.allowTitleForLeadPax;
                    }
                    if (this.option.allowTitle) {
                        this.allowOption.allowTitle = this.option.allowTitle;
                    }
                    if (this.option.allowContactNumber) {
                        this.allowOption.allowContactNumber = this.option.allowContactNumber;
                    }
                    if (this.option.allowContactNumberForLeadPax) {
                        this.allowOption.allowContactNumberForLeadPax = this.option.allowContactNumberForLeadPax;
                    }
                    if (this.option.allowEmail) {
                        this.allowOption.allowEmailt = this.option.allowEmail;
                    }
                    if (this.option.allowEmailForLeadPax) {
                        this.allowOption.allowEmailForLeadPax = this.option.allowEmailForLeadPax;
                    }
                    if (this.option.requiredField) {
                        this.allowOption.requiredField = this.option.requiredField;
                    }
                    if (this.option.requiredFieldForLeadPax) {
                        this.allowOption.requiredFieldForLeadPax = this.option.requiredFieldForLeadPax;
                    }
                }
            }
            _defaultResourcesValue() {
                if (this.resources.icons.terms) {
                    this._resources.terms = this.resources.icons.terms;
                }
                if (this.resources.labels.adult === undefined) {
                    this._resources.adultTitle;
                    this._resources.adultInfo;
                } else {
                    if (this.resources.labels.adult.title) {
                        this._resources.adultTitle = this.resources.labels.adult.title;
                    }
                    if (this.resources.labels.adult.info) {
                        this._resources.adultInfo = this.resources.labels.adult.info;
                    }
                }
                if (this.resources.labels.child === undefined) {
                    this._resources.childTitle;
                    this._resources.childInfo;
                } else {
                    if (this.resources.labels.child.title) {
                        this._resources.childTitle = this.resources.labels.child.title;
                    }
                    if (this.resources.labels.child.info) {
                        this._resources.childInfo = this.resources.labels.child.info;
                    }
                }
                if (this.resources.fields.title === undefined) {
                    this._resources.titleValues;
                    this._resources.titleSelected;
                    this._resources.titleLabel;
                    this._resources.titleError;
                } else {
                    if (this.resources.fields.title.values) {
                        this._resources.titleValues = this.resources.fields.title.values;
                    }
                    if (this.resources.fields.title.selected) {
                        this._resources.titleSelected = this.resources.fields.title.selected;
                    }
                    if (this.resources.fields.title.title) {
                        this._resources.titleLabel = this.resources.fields.title.title;
                    }
                    if (this.resources.fields.title.errors) {
                        this._resources.titleError = this.resources.fields.title.errors;
                    }
                }
                if (this.resources.fields.firstName === undefined) {
                    this._resources.firstNameValue;
                    this._resources.firstNameTitle;
                    this._resources.firstNameError;
                } else {
                    if (this.resources.fields.firstName.value) {
                        this._resources.firstNameValue = this.resources.fields.firstName.value;
                    }
                    if (this.resources.fields.firstName.title) {
                        this._resources.firstNameTitle = this.resources.fields.firstName.title;
                    }
                    if (this.resources.fields.firstName.errors) {
                        this._resources.firstNameError = this.resources.fields.firstName.errors;
                    }
                }
                if (this.resources.fields.lastName === undefined) {
                    this._resources.lastNameValue;
                    this._resources.lastNameTitle;
                    this._resources.lastNameError;
                } else {
                    if (this.resources.fields.lastName.value) {
                        this._resources.lastNameValue = this.resources.fields.lastName.value;
                    }
                    if (this.resources.fields.lastName.title) {
                        this._resources.lastNameTitle = this.resources.fields.lastName.title;
                    }
                    if (this.resources.fields.lastName.errors) {
                        this._resources.lastNameError = this.resources.fields.lastName.errors;
                    }
                }
                if (this.resources.fields.email === undefined) {
                    this._resources.emailValue;
                    this._resources.emailTitle;
                    this._resources.emailInfo;
                    this._resources.emailError;
                } else {
                    if (this.resources.fields.email.value) {
                        this._resources.emailValue = this.resources.fields.email.value;
                    }
                    if (this.resources.fields.email.title) {
                        this._resources.emailTitle = this.resources.fields.email.title;
                    }
                    if (this.resources.fields.email.errors) {
                        this._resources.emailInfo = this.resources.fields.email.errors;
                    }
                    if (this.resources.fields.email.errors) {
                        this._resources.emailError = this.resources.fields.email.errors;
                    }
                }
                if (this.resources.fields.countryCode === undefined) {
                    this._resources.countryCodeValues;
                    this._resources.countryCodeTitle;
                    this._resources.countryCodeError;
                } else {
                    if (this.resources.fields.countryCode.values) {
                        this._resources.countryCodeValues = this.resources.fields.countryCode.values;
                    }
                    if (this.resources.fields.countryCode.title) {
                        this._resources.countryCodeTitle = this.resources.fields.countryCode.title;
                    }
                    if (this.resources.fields.countryCode.errors) {
                        this._resources.countryCodeError = this.resources.fields.countryCode.errors;
                    }
                }
                if (this.resources.fields.contactNumber === undefined) {
                    this._resources.contactNumberValue;
                    this._resources.contactNumberTitle;
                    this._resources.contactNumberInfo;
                    this._resources.contactNumberError;
                } else {
                    if (this.resources.fields.contactNumber.value) {
                        this._resources.contactNumberValue = this.resources.fields.contactNumber.value;
                    }
                    if (this.resources.fields.contactNumber.title) {
                        this._resources.contactNumberTitle = this.resources.fields.contactNumber.title;
                    }
                    if (this.resources.fields.contactNumber.errors) {
                        this._resources.contactNumberInfo = this.resources.fields.contactNumber.errors;
                    }
                    if (this.resources.fields.contactNumber.errors) {
                        this._resources.contactNumberError = this.resources.fields.contactNumber.errors;
                    }
                }
                if (this.resources.newGuest) {
                    this._resources.newGuest = this.resources.newGuest;
                }
                if (this.resources.chooseGuest) {
                    this._resources.chooseGuest = this.resources.chooseGuest;
                }
            }
            _showInvalidEmail() {
                var email = this.shadowRoot.querySelector("#email").value;
                var filter = /^([a-zA-Z0-9_.-])+@([a-zA-Z0-9_.-])+\.([a-zA-Z])+([a-zA-Z])+/;
                if (!filter.test(email)) {
                    var emailElement = this.shadowRoot.querySelector("#email")
                    emailElement.invalid = true;
                    if (emailElement.invalid === true) {
                        var PaxInfoEmailLabel = this.shadowRoot.querySelector("#emailLabel");
                        PaxInfoEmailLabel.hidden = true;
                    }
                }
            }
            _showInvalidContact() {
                var contactNumber = this.shadowRoot.querySelector("#contactNo").value;
                var filter = /^\[0-9]+$/;
                if (!filter.test(contactNumber)) {
                    var contactNoElement = this.shadowRoot.querySelector("#contactNo");
                    contactNoElement.invalid = true;
                }
            }
            ready() {
                super.ready();
                if (this.roomNumber === 1 && this.paxList.length === 0) {
                    this.showChooseGuest = true;
                    this.showPaxInfoFields = false;
                }
                if (this.showChooseGuest === false) {
                    this.parentElement.querySelector("#closeIconChild" + (this.index)).classList.remove(
                        "closeIconChild");
                    this.parentElement.querySelector("#closeIconChild" + (this.index)).classList.add(
                        "closeIconChooseGuest");
                }
                this._defaultOptionValue();
                this._defaultResourcesValue();
                this._showAllowFields();
                this._dynamicStyle();
            }

        }

        window.customElements.define(PaxInfoChild.is, PaxInfoChild);
    </script>
</dom-module>